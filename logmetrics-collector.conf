{
  lrh: {
    files: [ "/home/mpa/backlog/gologwatcher/onsale.de/2014-02-07.lrh_de.nxa*.log" ],
    #files: [ "/home/mpa/backlog/gologwatcher/oldlogs/jim*/mfx.services.transactional.api.performance_nl.log" ],
    #files: [ "/home/mpa/backlog/gologwatcher/onsale.de/2014-02-07.alcor.jim*.perfo.log" ],
    #files: [ "/home/mpa/backlog/gologwatcher/logs/jim*/mfx.services.transactional.api.performance_[a-z][a-z].log" ],
    re:
      '^([A-z]{3}\s+\d+\s+\d+:\d+:\d+)\s+                          # Date 1 \n
       ((nxa)[0-9]+.(mf)\.([a-z0-9]+)\.\S+)\s+                     # server 2, class 3, product 4, cluster 5 \n
       lrh_([a-z]{2,15})\[\d+\]:\s+                                # market 6 \n
       \[s=\S+\]\s+                                                # sid \n
       (NrhOut|SubResp|Out)\s+                                     # response type 7 \n
       \(([0-9\.]+)\)\s+                                           # call time 8 \n
       ([\S]{0,15})\S*\s+                                          # call name 9 \n
       SQL\[(\d+)\/([0-9\.]+)\]\s+                                 # sql call count 10, sql time 11 \n
       NRH\[(\d+)\/([0-9\.]+)\]\s+                                 # nrh call count 12, nrh time 13 \n
       OTH\[(\d+)\/([0-9\.]+)\]                                    # other call count 14, other time 15 \n',
    expected_matches: 15,

    date: {
      position: 1,
      format: "Jan  2 15:04:05" #rfc3164
    },

    key_prefix: 'mfx.lrh.socket_resource',
    # General tag-position lookup
    tags: {call: 9,
           type: 7,
           host: 2,
           market: 6,
           class: 3,
           product: 4,
           cluster: 5
    },

    metrics: {
      meter: {
        key_suffix: "executions",
        data: [
         # [0,  "resource=local"], #When pos=0, simply inc counter by 1
         # [10,  "resource=sql"],
         # [12,  "resource=nrh"],
         # [14,  "resource=other"],
        ]
      },
      histogram: {
        key_suffix: "execution_time.ms",
		format: "float",
		multiply: 1000,
        data: [
          [8,  "resource=local", {sub: [11,13,15]}],
          [11,  "resource=sql"],
          [13,  "resource=lrh"],
          [15, "resource=other"],
        ]
      }
    },

    histogram_size: 1024,
    histogram_alpha_decay: 0.15,
	histogram_rescale_threshold_min: 10,
	ewma_interval: 300,

    #Split workload on multiple go routines to scale accross cpus
    goroutines: 1,

    #Push data to TSD every X interval
    interval: 5,
    warn_on_regex_fail: false,
    warn_on_operation_fail: false,
    parse_from_start: false #Dev setting
  },

  mfx.services.transactional.api: {
    files: [ "/home/mpa/backlog/gologwatcher/onsale.de/2014-02-07.alcor.jim*.perfo.log" ],
    #files: [ "/home/mpa/backlog/gologwatcher/oldlogs/jim*/mfx.services.transactional.api.performance_nl.log" ],
    #files: [ "/home/mpa/backlog/gologwatcher/onsale.de/2014-02-07.alcor.jim*.perfo.log" ],
    #files: [ "/home/mpa/backlog/gologwatcher/logs/jim*/mfx.services.transactional.api.performance_[a-z][a-z].log" ],
    re:
      '([A-z]{3}\s+\d+\s+\d+:\d+:\d+)\s+                           # Date 1 \n
       ((jim)[0-9]+.(mf)\.([a-z0-9]+)\.\S+)\s+                     # server 2, class 3, product 4, cluster 5 \n
       mfx.services.transactional.api.performance_([a-z]{2,15}):.* # market 6 \n
       \[c:(\S+)\].*                                               # call 7 \n
       \(([0-9]+)\)\s+                                             # call time 8 \n
       \[lrh:([0-9]+)/([0-9]+)\]\s+                                # lrh calls 9, lrh time 10 \n
       \[sql:([0-9]+)/([0-9]+)\]\s+                                # sql calls 11, sql time 12 \n
       \[membase:([0-9]+)/([0-9]+)\]\s+                            # membase calls 13, membase time 14 \n
       \[memcache:([0-9]+)/([0-9]+)\]\s+                           # memcache calls 15, memcache time 16 \n
       \[other:([0-9]+)/([0-9]+)\].*                               # other calls 17, other time 18 \n',
    expected_matches: 18,

    date: {
      position: 1,
      format: "Jan  2 15:04:05" #rfc3164
    },

    key_prefix: 'mfx.tapi.http_resource',
    # General tag-position lookup
    tags: {call: 7,
           host: 2,
           market: 6,
           class: 3,
           product: 4,
           cluster: 5
    },
    metrics: {
      meter: {
        key_suffix: "executions",
        data: [
          [0,  "resource=local"], #When pos=0, simply inc counter by 1
          [9,  "resource=lrh"],
          [11,  "resource=sql"],
          [13,  "resource=membase"],
          [15, "resource=memcache"],
          [17, "resource=other"]
        ]
      },
      histogram: {
        key_suffix: "execution_time.ms",
        data: [
          [8,  "resource=local", {sub: [10,12,14,16,18]}],
          [10,  "resource=lrh"],
          [12,  "resource=sql"],
          [14, "resource=membase"],
          [16, "resource=memcache"],
          [18, "resource=other"]
        ]
      }
    },

    histogram_size: 1024,
    histogram_alpha_decay: 0.15,

    #Split workload on multiple go routines to scale accross cpus
    goroutines: 1,

    #Push data to TSD every X interval
    interval: 5,
    warn_on_regex_fail: true,
	warn_on_operation_fail: false,
    parse_from_start: true #Dev setting
  },
  settings: {
    poll_interval: 5,
    log_facility: "local3",

    push_port: 4242,
    push_host: "tsd.lab.cloudsys.tmcs",
    push_proto: "tcp",
    push_type: "tsd",
    # Number of parallel pushers.
#   push_number: 1,

    #Secs to wait for retry when unable to send to push
    push_wait: 5
  }
}
